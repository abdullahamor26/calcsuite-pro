<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Browse All 73,364 Calculators | CalcSuite Pro</title>
<link rel="stylesheet" href="styles-premium.css">
<style>
.filter-section{max-width:1200px;margin:2rem auto;padding:2rem;background:white;border-radius:8px;}
.search-box{width:100%;padding:1rem;border:2px solid #635BFF;border-radius:8px;font-size:1.1rem;margin-bottom:1.5rem;}
.search-box:focus{outline:none;border-color:#0A2540;}
.filter-tabs{display:flex;gap:0.5rem;flex-wrap:wrap;margin-bottom:1.5rem;border-bottom:2px solid #e5e7eb;padding-bottom:1rem;}
.tab{padding:0.75rem 1.5rem;background:#f8f9fa;border:none;border-radius:8px 8px 0 0;cursor:pointer;font-weight:600;color:#666;transition:all 0.2s;}
.tab.active{background:#635BFF;color:white;}
.tab:hover{background:#635BFF;color:white;}
.sort-bar{display:flex;gap:1rem;align-items:center;margin-bottom:1rem;}
.sort-bar select{padding:0.5rem 1rem;border:2px solid #e5e7eb;border-radius:8px;font-size:0.95rem;cursor:pointer;}
.stats{color:#666;font-size:0.95rem;}
.category-section{margin:2rem 0;}
.category-title{color:#0A2540;font-size:1.5rem;font-weight:700;margin-bottom:1rem;padding:1rem;background:#f8f9fa;border-radius:8px;}
.calc-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:0.75rem;max-width:1200px;margin:0 auto 2rem;}
.calc-link{display:block;padding:0.875rem;background:white;border-radius:6px;color:#0A2540;text-decoration:none;font-weight:500;border:1px solid #e5e7eb;transition:all 0.15s;font-size:0.95rem;}
.calc-link:hover{background:#635BFF;color:white;transform:translateY(-1px);box-shadow:0 4px 12px rgba(99,91,255,0.2);}
.load-more{text-align:center;padding:2rem;}
.load-more button{padding:1rem 3rem;background:#635BFF;color:white;border:none;border-radius:8px;cursor:pointer;font-weight:600;font-size:1rem;transition:all 0.2s;}
.load-more button:hover{background:#0A2540;transform:scale(1.05);}
</style>
</head>
<body>
<nav class="nav">
<div class="nav-container">
<a href="index.html" class="logo" style="display:flex;align-items:center;">
<img src="../logo.svg" alt="CalcSuite Pro" style="height:40px;">
</a>
</div>
</nav>

<section class="hero">
<div class="hero-content">
<h1>73,364 Professional Calculators</h1>
<p class="hero-subtitle">Organized by Category - All Fully Functional</p>
</div>
</section>

<div class="filter-section">
<input type="text" id="search" class="search-box" placeholder="🔍 Search all 73,364 calculators (e.g., california mortgage, BMI, 2025)">

<div class="filter-tabs">
<button class="tab active" onclick="filterCategory('all')">All Categories</button>
<button class="tab" onclick="filterCategory('bmi')">BMI (4,410)</button>
<button class="tab" onclick="filterCategory('mortgage')">Mortgage (4,410)</button>
<button class="tab" onclick="filterCategory('loan')">Loan (4,410)</button>
<button class="tab" onclick="filterCategory('calorie')">Calorie (4,410)</button>
<button class="tab" onclick="filterCategory('tax')">Tax (4,410)</button>
<button class="tab" onclick="filterCategory('retirement')">Retirement (4,410)</button>
<button class="tab" onclick="filterCategory('pregnancy')">Pregnancy (4,263)</button>
<button class="tab" onclick="filterCategory('salary')">Salary (4,410)</button>
<button class="tab" onclick="filterCategory('investment')">Investment (4,410)</button>
<button class="tab" onclick="filterCategory('debt')">Debt (4,410)</button>
<button class="tab" onclick="filterCategory('savings')">Savings (4,410)</button>
<button class="tab" onclick="filterCategory('fitness')">Fitness (4,410)</button>
<button class="tab" onclick="filterCategory('percentage')">Percentage (4,410)</button>
<button class="tab" onclick="filterCategory('age')">Age (4,410)</button>
<button class="tab" onclick="filterCategory('date')">Date (4,410)</button>
<button class="tab" onclick="filterCategory('time')">Time (4,410)</button>
<button class="tab" onclick="filterCategory('business')">Business (4,410)</button>
</div>

<div class="sort-bar">
<label style="font-weight:600;color:#0A2540;">View:</label>
<select id="viewBy" onchange="changeView()">
<option value="category">By Category</option>
<option value="state">By State</option>
<option value="year">By Year</option>
<option value="type">By Type</option>
</select>
<label style="font-weight:600;color:#0A2540;margin-left:1rem;">Sort:</label>
<select id="sortBy" onchange="sortCalcs()">
<option value="alpha">A-Z</option>
<option value="popular">Popular First</option>
<option value="newest">Newest First</option>
</select>
<div class="stats" style="margin-left:auto;">Showing <span id="count">0</span> calculators</div>
</div>
</div>

<div id="results"></div>
<div class="load-more" id="loadMore" style="display:none;">
<button onclick="loadMore()">Load More Calculators</button>
</div>

<script>
let allCalcs = [];
let filtered = [];
let shown = 0;
const PER_PAGE = 100;
let currentCategory = 'all';
let currentView = 'category';

const categories = ['bmi','mortgage','loan','calorie','tax','retirement','pregnancy','salary','investment','debt','savings','fitness','percentage','age','date','time','business'];
const states = ['alabama','alaska','arizona','arkansas','california','colorado','connecticut','delaware','florida','georgia','hawaii','idaho','illinois','indiana','iowa','kansas','kentucky','louisiana','maine','maryland','massachusetts','michigan','minnesota','mississippi','missouri','montana','nebraska','nevada','new-hampshire','new-jersey','new-mexico','new-york','north-carolina','north-dakota','ohio','oklahoma','oregon','pennsylvania','rhode-island','south-carolina','south-dakota','tennessee','texas','utah','vermont','virginia','washington','west-virginia','wisconsin','wyoming'];

fetch('sitemap.xml')
  .then(r => r.text())
  .then(xml => {
    const urls = xml.match(/calculators\/[^<]+\.html/g) || [];
    allCalcs = urls.map(u => u.replace('calculators/', ''));
    filtered = [...allCalcs];
    console.log('Loaded ' + allCalcs.length + ' calculators');
    display();
  })
  .catch(err => {
    console.error('Error loading sitemap:', err);
    document.getElementById('results').innerHTML = '<div style="text-align:center;padding:3rem;color:red;">Error loading calculators. Please refresh.</div>';
  });

function display() {
  const items = filtered.slice(shown, shown + PER_PAGE);
  
  if (currentView === 'category' && currentCategory === 'all') {
    let html = '';
    categories.forEach(cat => {
      const catCalcs = filtered.filter(f => f.includes(cat + '-'));
      if (catCalcs.length > 0) {
        const catName = cat.charAt(0).toUpperCase() + cat.slice(1);
        html += `<div class="category-section"><div class="category-title">${catName} - ${catCalcs.length.toLocaleString()} Calculators</div><div class="calc-grid">`;
        html += catCalcs.slice(0, 50).map(file => {
          const name = file.replace('.html', '').replace(/-/g, ' ').split(' ').map(w => w.charAt(0).toUpperCase() + w.slice(1)).join(' ');
          return `<a href="calculators/${file}" class="calc-link">${name}</a>`;
        }).join('');
        if (catCalcs.length > 50) {
          html += `</div><div style="text-align:center;padding:1rem;"><button class="tab" onclick="filterCategory('${cat}')">Show All ${catCalcs.length.toLocaleString()} →</button></div></div>`;
        } else {
          html += '</div></div>';
        }
      }
    });
    document.getElementById('results').innerHTML = html;
    shown = filtered.length;
  } else if (currentView === 'state') {
    let html = '';
    states.forEach(state => {
      const stateCalcs = filtered.filter(f => f.includes(state + '-'));
      if (stateCalcs.length > 0) {
        const stateName = state.split('-').map(w => w.charAt(0).toUpperCase() + w.slice(1)).join(' ');
        html += `<div class="category-section"><div class="category-title">${stateName} - ${stateCalcs.length.toLocaleString()} Calculators</div><div class="calc-grid">`;
        html += stateCalcs.slice(0, 30).map(file => {
          const name = file.replace('.html', '').replace(/-/g, ' ').split(' ').map(w => w.charAt(0).toUpperCase() + w.slice(1)).join(' ');
          return `<a href="calculators/${file}" class="calc-link">${name}</a>`;
        }).join('');
        html += '</div></div>';
      }
    });
    document.getElementById('results').innerHTML = html;
    shown = filtered.length;
  } else if (currentView === 'year') {
    let html = '';
    ['2025','2026','2027','2028','2029','2030'].forEach(year => {
      const yearCalcs = filtered.filter(f => f.includes(year));
      if (yearCalcs.length > 0) {
        html += `<div class="category-section"><div class="category-title">${year} - ${yearCalcs.length.toLocaleString()} Calculators</div><div class="calc-grid">`;
        html += yearCalcs.slice(0, 50).map(file => {
          const name = file.replace('.html', '').replace(/-/g, ' ').split(' ').map(w => w.charAt(0).toUpperCase() + w.slice(1)).join(' ');
          return `<a href="calculators/${file}" class="calc-link">${name}</a>`;
        }).join('');
        html += '</div></div>';
      }
    });
    document.getElementById('results').innerHTML = html;
    shown = filtered.length;
  } else {
    const html = items.map(file => {
      const name = file.replace('.html', '').replace(/-/g, ' ').split(' ').map(w => w.charAt(0).toUpperCase() + w.slice(1)).join(' ');
      return `<a href="calculators/${file}" class="calc-link">${name}</a>`;
    }).join('');
    
    if (shown === 0) {
      document.getElementById('results').innerHTML = `<div class="calc-grid" style="max-width:1200px;margin:0 auto;">${html}</div>`;
    } else {
      document.querySelector('.calc-grid').insertAdjacentHTML('beforeend', html);
    }
    shown += items.length;
  }
  
  document.getElementById('count').textContent = filtered.length.toLocaleString();
  document.getElementById('loadMore').style.display = shown < filtered.length ? 'block' : 'none';
}

function loadMore() {
  display();
}

function filterCategory(cat) {
  currentCategory = cat;
  document.querySelectorAll('.filter-tabs .tab').forEach(t => t.classList.remove('active'));
  if (event.target.classList.contains('tab')) event.target.classList.add('active');
  
  filtered = cat === 'all' ? [...allCalcs] : allCalcs.filter(c => c.includes(cat + '-'));
  currentView = cat === 'all' ? 'category' : 'list';
  shown = 0;
  document.getElementById('results').innerHTML = '';
  display();
}

function changeView() {
  currentView = document.getElementById('viewBy').value;
  shown = 0;
  document.getElementById('results').innerHTML = '';
  display();
}

function sortCalcs() {
  const sort = document.getElementById('sortBy').value;
  if (sort === 'alpha') {
    filtered.sort();
  } else if (sort === 'popular') {
    const popular = ['bmi','mortgage','loan','calorie','tax'];
    filtered.sort((a,b) => {
      const aIdx = popular.findIndex(p => a.includes(p));
      const bIdx = popular.findIndex(p => b.includes(p));
      return (aIdx === -1 ? 999 : aIdx) - (bIdx === -1 ? 999 : bIdx);
    });
  } else if (sort === 'newest') {
    filtered.sort((a,b) => {
      const aYear = a.match(/202[5-9]/);
      const bYear = b.match(/202[5-9]/);
      return (bYear ? bYear[0] : 0) - (aYear ? aYear[0] : 0);
    });
  }
  shown = 0;
  document.getElementById('results').innerHTML = '';
  display();
}

let searchTimeout;
document.getElementById('search').oninput = e => {
  clearTimeout(searchTimeout);
  searchTimeout = setTimeout(() => {
    const q = e.target.value.toLowerCase();
    filtered = q ? allCalcs.filter(c => c.includes(q)) : [...allCalcs];
    shown = 0;
    document.getElementById('results').innerHTML = '';
    display();
  }, 300);
};
</script>
</body>
</html>
